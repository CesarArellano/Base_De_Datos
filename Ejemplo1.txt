CREATE TABLE TipoExamen(
    TipoID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Tipo ENUM('S','M','F') NOT NULL          
);

CREATE TABLE Materias(
    MateriaID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(100) NOT NULL          
);

CREATE TABLE Alumnos(
    AlumnoID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(100) NOT NULL,
    FechaNacimiento DATE,
    Genero ENUM('M','F')
);

CREATE TABLE Examenes(
    ExamenID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Fecha DATE NOT NULL,
    MateriaID INT REFERENCES Materias(MateriaID) ON DELETE CASCADE ON UPDATE CASCADE,
    TipoID INT REFERENCES TipoExamen(TipoID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE Calificaciones(
    AlumnoID INT REFERENCES Alumnos(AlumnoID) ON DELETE CASCADE ON UPDATE CASCADE,
    ExamenID INT REFERENCES Examenes(ExamenID) ON DELETE CASCADE ON UPDATE CASCADE,
    Calificacion DECIMAL(3,1) NOT NULL,
    PRIMARY KEY(AlumnoID,ExamenID)
);

CREATE TABLE Ausencias(
    AusenciaID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Fecha DATE,
    AlumnoID INT REFERENCES Alumnos(AlumnoID) ON DELETE CASCADE ON UPDATE CASCADE
);